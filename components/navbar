// components/Navbar.tsx
"use client";

import Link from "next/link";
import { useState, useEffect } from "react";
import ThemeToggle from "./ThemeToggle";

export default function Navbar() {
  const [open, setOpen] = useState(false);

  // close menu when resizing to desktop
  useEffect(() => {
    const onResize = () => {
      if (window.innerWidth >= 900) setOpen(false);
    };
    window.addEventListener("resize", onResize);
    return () => window.removeEventListener("resize", onResize);
  }, []);

  return (
    <header role="banner" className="header">
      <nav aria-label="Primary" className="nav">
        <div className="brand">
          <Link href="/" className="brandLink">Anuecthing</Link>
        </div>

        <button
          type="button"
          className="menuButton"
          aria-controls="primary-menu"
          aria-expanded={open}
          onClick={() => setOpen((v) => !v)}
        >
          <span className="sr-only">Toggle menu</span>
          â˜°
        </button>

        <ul id="primary-menu" className={`menu ${open ? "menuOpen" : ""}`}>
          <li><Link className="menuLink" href="/about">About</Link></li>
          <li><Link className="menuLink" href="/resources">Resources</Link></li>
          <li><Link className="menuLink" href="/contact">Contact</Link></li>
          <li className="divider" aria-hidden="true" />
          <li><ThemeToggle /></li>
        </ul>
      </nav>
    </header>
  );
}
